<!-- Modal Form for Editing music -->
<div id="editModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>Edit Song</h2>
        <!-- Include the song ID in the form action -->
        <form id="editForm" action="/edit/<%= song.id %>" method="POST" enctype="multipart/form-data">
            <!-- Hidden field to store the index of the song being edited -->
            <input type="hidden" id="editIndex" name="index" value="<%= song.id %>">
            
            <label for="editTitle">Title:</label>
            <input type="text" id="editTitle" name="title" value="<%= song.title %>" required><br><br>
        
            <label for="editArtist">Artist:</label>
            <input type="text" id="editArtist" name="artist" value="<%= song.artist %>" required><br><br>
        
            <button type="submit" class="btn btn-success">Save Changes</button>
        </form>
        
    </div>
</div>
<script>
    // Edit Song functionality
const editBtn = document.getElementById('editBtn');
const editModal = document.getElementById('editModal');

editBtn.addEventListener('click', () => {
    if (currentTrackIndex !== null) {
        const songItem = document.querySelector(`.song-item[data-index="${currentTrackIndex}"]`);
        document.getElementById('editIndex').value = currentTrackIndex;
        document.getElementById('editTitle').value = songItem.querySelector('h5').textContent;
        document.getElementById('editArtist').value = songItem.querySelector('p').textContent;
        
        editModal.style.display = 'block';
    }
});
</script>